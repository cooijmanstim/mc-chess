import testing ;

using gcc : c++11 : "g++" : <cxxflags>-std=c++11 ;

use-project /boost : /home/tim/src/boost_1_55_0 ;

project mcchess
        : requirements <library>/boost//regex
                       <library>/boost//thread
                       <library>/boost//serialization
                       <cflags>"-flto=2 -ftemplate-depth=196"
;

lib game : [ glob *.cpp : main.cpp speedtest.cpp selfplay.cpp ] : <variant>debug:<define>MC_EXPENSIVE_RUNTIME_TESTS ;

exe main : main.cpp game ;
exe selfplay : selfplay.cpp game ;
exe speedtest : speedtest.cpp game ;

for test in [ glob tests/*.cpp ] {
    unit-test $(test:B) : $(test) game ;
}
